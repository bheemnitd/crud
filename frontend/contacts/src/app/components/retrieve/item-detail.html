<div class="container">
  <!-- Loading state -->
  <div *ngIf="loading" class="loading">Loading contact details...</div>

  <!-- Error state -->
  <div *ngIf="error && !loading" class="error">{{ error }}</div>

  <!-- Success state - ONLY show when we have item and no error/loading -->
  <div *ngIf="item && !loading && !error" class="detail-item">
    <h3>Contact Details</h3>
    
    <div class="detail-field">
      <strong>ID</strong>
      <span>{{ item.id }}</span>
    </div>
    <div class="detail-field">
      <strong>First Name</strong>
      <span>{{ item.first_name }}</span>
    </div>
    <div class="detail-field">
      <strong>Last Name</strong>
      <span>{{ item.last_name }}</span>
    </div>
    <div class="detail-field">
      <strong>Email</strong>
      <span>{{ item.email }}</span>
    </div>
    <div class="detail-field">
      <strong>Mobile</strong>
      <span>{{ item.mobile }}</span>
    </div>
    <div class="detail-field">
      <strong>Event Notification Groups</strong>
      <span>{{ formatGroups(item.event_notification_groups) }}</span>
    </div>
    <div class="detail-field">
      <strong>Event Types</strong>
      <span>{{ formatEventTypes(item.event_types) }}</span>
    </div>
    <div class="detail-field">
      <strong>Status</strong>
      <span [ngClass]="item.is_active ? 'active' : 'inactive'">
        {{ item.is_active ? 'Active' : 'Inactive' }}
      </span>
    </div>

    <div class="button-group">
      <button class="btn btn-primary" (click)="goEdit()">Edit</button>
      <a class="btn btn-secondary" routerLink="/items">Back to List</a>
    </div>
  </div>

  <!-- Optional: Show "No contact found" if item is null but not loading/error -->
  <div *ngIf="!item && !loading && !error" class="not-found">
    Contact not found.
  </div>
</div>